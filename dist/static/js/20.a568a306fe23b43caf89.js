webpackJsonp([20],{"5c8/":function(e,t){},Xl9M:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),o=s("ceV/"),r=s("gwNS"),n={data:function(){return{show:!1,form:{newspaper:"",address:"",postCode:"",mobile:""},pickerOptions:{pickerColumns:[{label:"中国老年报",value:"中国老年报"},{label:"医药养生保健报",value:"医药养生保健报"}]},list:[],isBm:0,dspToken:localStorage.dspToken}},components:{picker:o.a},mounted:function(){var e=this;this.gethistoryList();var t=this.$route.query.id;Object(r.dyjhQuerydata4object)({dyjhId:t,dspToken:this.dspToken}).then(function(t){e.isBm=t.data[0].isBm})},methods:{gethistoryList:function(){var e=this;Object(r.dyjhQuerydylslist)({dspToken:this.dspToken}).then(function(t){e.list=t.data})},showPicker:function(e){this.type=e,this.show=!0},hidePicker:function(e){this.show=e.showPicker},setData:function(e){"newspaper"===this.type&&(this.form.newspaper=e.value.label),this.show=e.showPicker},submit:function(){var e=this;if(!this.form.newspaper)return this.$toast("请填写报纸名称");if(!this.form.address)return this.$toast("请填写住址信息");if(!this.form.postCode)return this.$toast("请填写邮编");if(!this.form.mobile)return this.$toast("请填写手机号");var t=this.$route.query.id;Object(r.newspaperSubscribe)({bzmc:this.form.newspaper,zzxx:this.form.address,yb:this.form.postCode,sjh:this.form.mobile,dyjhId:t,dspToken:this.dspToken}).then(function(t){e.$toast("报刊订阅成功！"),e.$router.push("/NewspaperList")})},toDetail:function(e){var t=this;Object(r.dyjhQuerydatadylsxq)({dspToken:this.dspToken,zxqkId:e}).then(function(e){var s=e.data[0];t.$router.push({name:"detail",query:{title:"报刊订阅报名历史详情",data:a()({"参加的社会活动类型":s.hdlx,"活动时间":s.hdsj,"离京情况":s.ljqk,"参加事由":s.cjsy,"目的地":s.cjsy,"离京开始时间":s.cjsy,"离京结束时间":s.cjsy})}})})}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"newspaper-subcribe"},[s("div",{staticClass:"main"},[s("div",{staticClass:"row"},[s("div",{staticClass:"field-name"},[e._v("报纸名称")]),e._v(" "),s("div",{staticClass:"field-value arrow",on:{click:function(t){return e.showPicker("newspaper")}}},[s("p",{style:{color:e.form.newspaper?"#333333":"#cccccc"}},[e._v("\n          "+e._s(e.form.newspaper?e.form.newspaper:"请选择")+"\n        ")]),e._v(" "),s("van-icon",{attrs:{name:"arrow"}})],1)]),e._v(" "),s("div",{staticClass:"row"},[s("span",{staticClass:"field-name"},[e._v("住址信息")]),e._v(" "),s("span",{staticClass:"field-value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.address,expression:"form.address"}],attrs:{type:"text",placeholder:"请输入住址信息"},domProps:{value:e.form.address},on:{input:function(t){t.target.composing||e.$set(e.form,"address",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"row"},[s("span",{staticClass:"field-name"},[e._v("邮编")]),e._v(" "),s("span",{staticClass:"field-value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.postCode,expression:"form.postCode"}],attrs:{type:"text",placeholder:"请输入邮编"},domProps:{value:e.form.postCode},on:{input:function(t){t.target.composing||e.$set(e.form,"postCode",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"row"},[s("span",{staticClass:"field-name"},[e._v("联系方式")]),e._v(" "),s("span",{staticClass:"field-value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.mobile,expression:"form.mobile"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.form.mobile},on:{input:function(t){t.target.composing||e.$set(e.form,"mobile",t.target.value)}}})])])]),e._v(" "),s("button",{staticClass:"send-btn",style:0!==e.isBm?"background: #ccc;":"",attrs:{disabled:1===e.isBm},on:{click:e.submit}},[e._v(e._s(0===e.isBm?"提交":"已订阅"))]),e._v(" "),s("picker",{attrs:{title:"请选择",columns:e.pickerOptions.pickerColumns,show:e.show},on:{fetchData:e.setData,cancel:e.hidePicker,hide:e.hidePicker}})],1)},staticRenderFns:[]};var d=s("VU/8")(n,c,!1,function(e){s("5c8/")},"data-v-578c4a3d",null);t.default=d.exports}});
//# sourceMappingURL=20.a568a306fe23b43caf89.js.map