webpackJsonp([19],{"9Elk":function(t,e){},a1MH:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),s=i.n(a),o=i("uKX6"),r=i("PJh5"),n=i.n(r),d=i("gwNS"),l={filters:{dateFormat:function(t,e){return t&&n()(t).format("YYYY-MM-DD")||e}},data:function(){return{isDatePickerShow:!1,form:{hospitalName:"",date:"",diagnosis:"",treatment:"",feeBySelf:""},show:!1,pickerOptions:{pickerColumns:[]},list:[],dspToken:localStorage.dspToken}},components:{datePicker:o.a},mounted:function(){this.mzdjquerydata4list()},methods:{mzdjquerydata4list:function(){var t=this;Object(d.mzdjquerydata4list)({dspToken:this.dspToken}).then(function(e){t.list=e.data})},getDetail:function(t){var e=this;Object(d.mzdjquerydata4object)({jzxxId:t.jzxxId,dspToken:this.dspToken}).then(function(t){var i=t.data;console.log(i);var a=i[0];e.$router.push({name:"detail",query:{title:"门诊就诊详情",data:s()({"就诊医院":a.jzyy,"就诊时间":a.jzsj,"诊断情况":a.zdqk,"治疗情况":a.zlqk,"自费金额":a.zfje})}})})},showDatePicker:function(t){this.isDatePickerShow=!0},fetchDate:function(t){this.form.date=t.originValue,this.isDatePickerShow=t.showDatePicker},hideDatePicker:function(t){this.isDatePickerShow=t.showDatePicker},submit:function(){var t=this;return this.form.hospitalName?this.form.date?this.form.diagnosis?this.form.treatment?this.form.feeBySelf?void Object(d.mzdjsavedata)({jzyy:this.form.hospitalName,jzsj:n()(this.form.date).format("YYYY-MM-DD"),zdqk:this.form.diagnosis,zlqk:this.form.treatment,zfje:this.form.feeBySelf,dspToken:this.dspToken}).then(function(e){t.$toast("提交成功"),t.mzdjquerydata4list()}):this.$toast("请输入自费金额"):this.$toast("请输入治疗情况"):this.$toast("请输入诊断情况"):this.$toast("请选择就诊日期"):this.$toast("请填写就诊医院")}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hospitalsign"},[i("div",{staticClass:"top"},[i("div",{staticClass:"title"},[t._v("门诊就诊信息")]),t._v(" "),i("div",{staticClass:"topinfo"},[i("div",{staticClass:"post"},[t._v("就诊医院")]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.hospitalName,expression:"form.hospitalName"}],attrs:{type:"text",placeholder:"请输入就诊医院"},domProps:{value:t.form.hospitalName},on:{input:function(e){e.target.composing||t.$set(t.form,"hospitalName",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"topinfo",on:{click:function(e){return t.showDatePicker("startDate")}}},[i("div",{staticClass:"post"},[t._v("就诊时间")]),t._v(" "),i("div",{staticStyle:{"padding-left":"10px"},style:t.form.date?"":"color:#ccc;"},[t._v("\n        "+t._s(t._f("dateFormat")(t.form.date,"请选择"))+"\n      ")])]),t._v(" "),i("div",{staticClass:"topinfo"},[i("div",{staticClass:"post"},[t._v("诊断情况")]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.diagnosis,expression:"form.diagnosis"}],attrs:{type:"text",placeholder:"请输入诊断情况"},domProps:{value:t.form.diagnosis},on:{input:function(e){e.target.composing||t.$set(t.form,"diagnosis",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"topinfo"},[i("div",{staticClass:"post"},[t._v("治疗情况")]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.treatment,expression:"form.treatment"}],attrs:{type:"text",placeholder:"请输入治疗情况"},domProps:{value:t.form.treatment},on:{input:function(e){e.target.composing||t.$set(t.form,"treatment",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"topinfo"},[i("div",{staticClass:"post"},[t._v("自费金额")]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.feeBySelf,expression:"form.feeBySelf"}],attrs:{type:"text",placeholder:"请输入就诊医院"},domProps:{value:t.form.feeBySelf},on:{input:function(e){e.target.composing||t.$set(t.form,"feeBySelf",e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"sign-btn",on:{click:t.submit}},[t._v("提交")]),t._v(" "),i("div",{staticClass:"historylist"},[i("p",{staticClass:"historytitle"},[t._v("历次申请记录")]),t._v(" "),t._l(t.list,function(e,a){return i("div",{key:a,staticClass:"item",on:{click:function(i){return t.getDetail(e)}}},[i("div",[i("p",[t._v("就医日期："+t._s(e.jzsj))]),t._v(" "),i("p",[t._v(t._s(e.jzyy))])]),t._v(" "),i("div",[i("van-icon",{attrs:{name:"arrow"}})],1)])})],2),t._v(" "),i("date-picker",{attrs:{"date-type":"date","default-date":t.form.date,show:t.isDatePickerShow},on:{fetchData:t.fetchDate,cancel:t.hideDatePicker,hide:t.hideDatePicker}})],1)},staticRenderFns:[]};var m=i("VU/8")(l,c,!1,function(t){i("9Elk")},"data-v-5c2d09e4",null);e.default=m.exports}});
//# sourceMappingURL=19.004ea8a1e85d5fd8372a.js.map