webpackJsonp([17],{"JaG/":function(t,e){},w582:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("mvHQ"),a=o.n(s),i=o("fZjL"),n=o.n(i),r=o("Dd8w"),l=o.n(r),v=o("ceV/"),c=o("uKX6"),m=o("PJh5"),d=o.n(m),p=o("gwNS"),f={relationship:[],travelType:[],reason:[]},h={components:{picker:v.a,datePicker:c.a},filters:{dateFormat:function(t,e){return t&&d()(t).format("YYYY-MM-DD")||e}},data:function(){return{showVanDialog:!1,dspToken:localStorage.dspToken,type:"",show:!1,pickerOptions:{pickerColumns:[]},form:{countryName:"",reason:{},travelType:{},secretLevel:"",personName:"",personAge:"",personRelationship:"",personAddress:"",personOrganization:"",homeContactName:"",homeContactRelationship:"",homeContactMobile:"",passCountryName:"",startDate:void 0,endDate:void 0},dateType:"",isDatePickerShow:!1,sfsmry:[],fileList:[],list:[{date:"2020/9/18",desc:"澳大利亚   因私旅游"}]}},computed:{days:function(){return d()(this.form.endDate).diff(d()(this.form.startDate),"days")}},mounted:function(){var t=this;this.loadOption(p.getlylx,"travelType"),this.loadOption(p.getsy,"reason"),Object(p.getsfsmry)().then(function(e){var o=e.data;t.sfsmry=o.map(function(t){return{label:t.name,value:t.val}})}),Object(p.yscgjQuerydata4list)({dspToken:this.dspToken}).then(function(e){var o=e.data;t.list=o}),Object(p.yscgjQuerydata4object)({dspToken:this.dspToken}).then(function(t){t.data}),this.$route.query&&"yscgjSavedataJson"===this.$route.query.yscgjSavedataJson&&(this.form=l()({},this.form,JSON.parse(sessionStorage.yscgjSavedataJson)))},methods:{promiseBook:function(){var t=this,e={jhkssj:"计划行程开始时间",jhjssj:"计划行程结束时间",qwgjhdq:"前往国家或地区",sfsmry:"是否涉密",sy:"类别(事由)"};1===this.form.reason.value?e.lylx="旅游类型":2===this.form.reason.value&&(e.ntwr="拟探望人",e.ntwrdz="拟探望人地址",e.ntwrgx="拟探望人关系",e.ntwrgzdw="拟探望人工作单位",e.ntwrnl="拟探望人年龄");var o={jhkssj:d()(this.form.startDate).format("YYYY-MM-DD"),jhjssj:d()(this.form.endDate).format("YYYY-MM-DD"),jtlxrdh:this.form.homeContactMobile,jtlxrgx:this.form.homeContactRelationship,jtlxrxm:this.form.homeContactName,lylx:this.form.travelType.value,ntwr:this.form.personName,ntwrdz:this.form.personAddress,ntwrgx:this.form.personRelationship,ntwrgzdw:this.form.personOrganization,ntwrnl:this.form.personAge,qwgjhdq:this.form.countryName,sy:this.form.reason.value,sfsmry:this.form.secretLevel},s=n()(e).find(function(t){return!o[t]});s?this.$toast("请填写【"+e[s]+"】项内容"):(sessionStorage.yscgjSavedataJson=a()(this.form),Object(p.yscgjJy)({qwgjhdq:o.qwgjhdq,jtlxrdh:o.jhjssj,dspToken:this.dspToken}).then(function(e){var o=e.pkValue;"1"===o?t.showVanDialog=!0:t.$router.push({name:"AbroadEntryExitApplication",query:{id:o}})}))},showPicker:function(t){this.type=t,this.show=!0,console.log(f[t],t),this.pickerOptions.pickerColumns=f[t]},hidePicker:function(t){this.show=t.showPicker},setData:function(t){this.form[this.type]=t.value,this.show=t.showPicker},showDatePicker:function(t){this.isDatePickerShow=!0,this.dateType=t},fetchDate:function(t){this.form[this.dateType]=t.originValue,this.isDatePickerShow=t.showDatePicker},hideDatePicker:function(t){this.isDatePickerShow=t.showDatePicker},removeImage:function(t){this.fileList=this.fileList.filter(function(e){return t.content!==e.content})},afterRead:function(t){t.status="uploading",t.message="上传中...",setTimeout(function(){t.status="failed",t.message="上传失败"},1e3)},loadOption:function(t,e){return t().then(function(t){var o=t.data;f[e]=o.map(function(t){return{label:t.name,value:t.val}})})},submit:function(){var t=this,e={jhkssj:d()(this.form.startDate).format("YYYY-MM-DD"),jhjssj:d()(this.form.endDate).format("YYYY-MM-DD"),jtlxrdh:this.form.homeContactMobile,jtlxrgx:this.form.homeContactRelationship,jtlxrxm:this.form.homeContactName,lylx:this.form.travelType.value,ntwr:this.form.personName,ntwrdz:this.form.personAddress,ntwrgx:this.form.personRelationship,ntwrgzdw:this.form.personOrganization,ntwrnl:this.form.personAge,qwgjhdq:this.form.countryName,sy:this.form.reason.value,sfsmry:this.form.secretLevel};Object(p.yscgjSavedata)(l()({},e,{dspToken:this.dspToken})).then(function(){t.$toast("提交成功"),t.showVanDialog=!1})}}},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hospitalsign"},[o("div",{staticClass:"top"},[o("div",{staticClass:"title"},[t._v("出国境申请信息")]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("前往国家或地区")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.countryName,expression:"form.countryName"}],attrs:{type:"text",placeholder:"请输入国家或地区名称"},domProps:{value:t.form.countryName},on:{input:function(e){e.target.composing||t.$set(t.form,"countryName",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"topinfo has-arrow"},[o("div",{staticClass:"post"},[t._v("类别")]),t._v(" "),o("div",{class:{unfill:!t.form.reason.value},on:{click:function(e){return t.showPicker("reason")}}},[t._v("\n        "+t._s(t.form.reason.label||"未填写")+"\n      ")])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("是否涉密")]),t._v(" "),o("div",[o("div",[o("van-radio-group",{attrs:{direction:"horizontal"},model:{value:t.form.secretLevel,callback:function(e){t.$set(t.form,"secretLevel",e)},expression:"form.secretLevel"}},t._l(t.sfsmry,function(e,s){return o("van-radio",{key:s,attrs:{name:e.value}},[t._v(t._s(e.label))])}),1)],1)])]),t._v(" "),o("div",{staticClass:"topinfo has-arrow",on:{click:function(e){return t.showDatePicker("startDate")}}},[o("div",{staticClass:"post"},[t._v("计划行程开始时间")]),t._v(" "),o("div",{class:{unfill:!t.form.startDate}},[t._v("\n        "+t._s(t._f("dateFormat")(t.form.startDate,"请选择"))+"\n      ")])]),t._v(" "),o("div",{staticClass:"topinfo has-arrow",on:{click:function(e){return t.showDatePicker("endDate")}}},[o("div",{staticClass:"post"},[t._v("计划行程结束时间")]),t._v(" "),o("div",{class:{unfill:!t.form.endDate}},[t._v("\n        "+t._s(t._f("dateFormat")(t.form.endDate,"请选择"))+"\n      ")])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("天数")]),t._v(" "),o("div",[t._v(t._s(t.days)+"天")])]),t._v(" "),o("div",{staticClass:"topinfo has-arrow"},[o("div",{staticClass:"post"},[t._v("旅游类型")]),t._v(" "),o("div",{class:{unfill:!t.form.travelType.value},on:{click:function(e){return t.showPicker("travelType")}}},[t._v("\n        "+t._s(t.form.travelType.label||"未填写")+"\n      ")])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("途径国家或地区")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.passCountryName,expression:"form.passCountryName"}],attrs:{type:"text",placeholder:"请输入国家或地区名称"},domProps:{value:t.form.passCountryName},on:{input:function(e){e.target.composing||t.$set(t.form,"passCountryName",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("拟探望人姓名")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.personName,expression:"form.personName"}],attrs:{type:"text",placeholder:"请输入拟探望人姓名"},domProps:{value:t.form.personName},on:{input:function(e){e.target.composing||t.$set(t.form,"personName",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("拟探望人年龄")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.personAge,expression:"form.personAge"}],attrs:{type:"number",placeholder:"请输入年龄"},domProps:{value:t.form.personAge},on:{input:function(e){e.target.composing||t.$set(t.form,"personAge",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("拟探望人关系")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.personRelationship,expression:"form.personRelationship"}],attrs:{type:"text",placeholder:"请输入关系"},domProps:{value:t.form.personRelationship},on:{input:function(e){e.target.composing||t.$set(t.form,"personRelationship",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("拟探望人住址")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.personAddress,expression:"form.personAddress"}],attrs:{type:"text",placeholder:"请输入住址"},domProps:{value:t.form.personAddress},on:{input:function(e){e.target.composing||t.$set(t.form,"personAddress",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("拟探望人工作单位")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.personOrganization,expression:"form.personOrganization"}],attrs:{type:"text",placeholder:"请输入工作单位"},domProps:{value:t.form.personOrganization},on:{input:function(e){e.target.composing||t.$set(t.form,"personOrganization",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("家庭联系人姓名")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.homeContactName,expression:"form.homeContactName"}],attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.form.homeContactName},on:{input:function(e){e.target.composing||t.$set(t.form,"homeContactName",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("家庭联系人关系")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.homeContactRelationship,expression:"form.homeContactRelationship"}],attrs:{type:"text",placeholder:"请输入关系"},domProps:{value:t.form.homeContactRelationship},on:{input:function(e){e.target.composing||t.$set(t.form,"homeContactRelationship",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"topinfo"},[o("div",{staticClass:"post"},[t._v("家庭联系人电话")]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.homeContactMobile,expression:"form.homeContactMobile"}],attrs:{type:"text",placeholder:"请输入电话"},domProps:{value:t.form.homeContactMobile},on:{input:function(e){e.target.composing||t.$set(t.form,"homeContactMobile",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"topinfo",staticStyle:{"border-bottom":"none"}},[o("div",{staticClass:"post"},[t._v("文件")]),t._v(" "),o("div",[o("van-uploader",{attrs:{"preview-image":!1,"after-read":t.afterRead},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}},[o("van-button",{attrs:{icon:"plus",type:"primary"}},[t._v("上传文件")])],1)],1)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.fileList.length,expression:"fileList.length"}],staticClass:"topinfo noborder"},[t._l(t.fileList,function(e,s){return o("div",{key:s},[o("span",[t._v(t._s(e.file.name))]),o("van-icon",{attrs:{name:"cross"},on:{click:function(o){return t.removeImage(e)}}})],1)}),t._v(" "),o("div")],2)]),t._v(" "),o("div",{staticClass:"sign-btn",on:{click:t.promiseBook}},[t._v("提交申请")]),t._v(" "),o("van-dialog",{attrs:{width:"90vw","show-cancel-button":!1,"show-confirm-button":!1},model:{value:t.showVanDialog,callback:function(e){t.showVanDialog=e},expression:"showVanDialog"}},[o("div",{staticClass:"showVanDialog"},[o("div",{staticClass:"showVanDialog_cross",on:{click:function(e){t.showVanDialog=!1}}},[o("van-icon",{attrs:{name:"cross"}})],1),t._v(" "),o("div",{staticClass:"showVanDialog_tit"},[o("h3",[t._v("全国人大机关因私出国(境)人员承诺书")]),t._v(" "),o("p",[t._v("因私出国(境)期间,本人郑重承诺书：")])]),t._v(" "),o("div",{staticClass:"showVanDialog_content",staticStyle:{height:"50vh"}},[o("div",[o("p",[t._v("一、严格遵守《中华人民共和国国家安全法《中华人民共和国反间谍法》、《中华人民共和国保守国家秘密法》等相关法律法规")]),t._v(" "),o("p",[t._v("二、严格遵守政治规矩和纪律,加强请示报告")]),t._v(" "),o("p",[t._v("三、严格遵守保密制度,严密保守所知悉的国家秘密")]),t._v(" "),o("p",[t._v("四、严格遵守外事纪律,不出入违法复杂场所")]),t._v(" "),o("p",[t._v("五、坚定维护国家利益和形象,不发表违背国家政策的言论")]),t._v(" "),o("p",[t._v("六、不参加民运、法轮功、“疆独”、“藏独”等敌对势力组织的活动;")]),t._v(" "),o("p",[t._v("七、费用自理,不接受境外机构、人员的资助")]),t._v(" "),o("p",[t._v("八、不接受境外媒体的采访")]),t._v(" "),o("p",[t._v("九、回国后如实向本单位报告出国(境)期间的情况,做到不谎报、瞒报和漏报。")])]),t._v(" "),o("div",{staticClass:"showVanDialog_button"},[o("van-button",{attrs:{round:"",type:"info",color:"#ccc"},on:{click:function(e){t.showVanDialog=!1}}},[t._v("不同意")]),t._v(" "),o("van-button",{attrs:{round:"",type:"info"},on:{click:t.submit}},[t._v("同意")])],1)])])]),t._v(" "),o("div",{staticClass:"historylist"},[o("p",{staticClass:"historytitle"},[t._v("登记记录")]),t._v(" "),t._l(t.list,function(e,s){return o("div",{key:s,staticClass:"item"},[o("div",[o("p",[t._v("申请日期："+t._s(e.date))]),t._v(" "),o("p",[t._v(t._s(e.desc))])]),t._v(" "),o("router-link",{attrs:{to:{name:"ReturnVisitForm",query:{title:"填写回访表",method:"questions",id:e.hfbxxId}},tag:"div"}},[t._v("填写回访表")])],1)})],2),t._v(" "),o("picker",{attrs:{title:"请选择",columns:t.pickerOptions.pickerColumns,show:t.show},on:{fetchData:t.setData,cancel:t.hidePicker,hide:t.hidePicker}}),t._v(" "),o("date-picker",{attrs:{"date-type":"date","default-date":t.form[t.dateType],show:t.isDatePickerShow},on:{fetchData:t.fetchDate,cancel:t.hideDatePicker,hide:t.hideDatePicker}})],1)},staticRenderFns:[]};var _=o("VU/8")(h,u,!1,function(t){o("JaG/")},"data-v-661e795e",null);e.default=_.exports}});
//# sourceMappingURL=17.3e22a1cb2cc44bd8201b.js.map