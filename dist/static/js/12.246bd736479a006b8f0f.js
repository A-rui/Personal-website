webpackJsonp([12],{LJiQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),o=i("mvHQ"),n=i.n(o),r=i("ceV/"),c=i("PJh5"),d=i.n(c),l=i("uKX6"),p=i("gwNS"),v=i("Fd2+"),h={filters:{dateFormat:function(t,e){return t&&d()(t).format("YYYY-MM-DD")||e}},data:function(){return{form:{yymc:"",zyrq:"",ryzd:"",sfxyzp:""},dspToken:localStorage.dspToken,zbjb:"",isDatePickerShow:!1,needzp:"",needzpArr:[{label:"是",value:1},{label:"否",value:0}],show:!1,pickerOptions:{pickerColumns:[]},list:[{date:"2020/9/18",hospital:"北京协和医院11111111111111111发电房啊阿峰啊啊"},{date:"2020/9/18",hospital:"北京协和医院"},{date:"2020/9/18",hospital:"北京协和医院"},{date:"2020/9/18",hospital:"北京协和医院"},{date:"2020/9/18",hospital:"北京协和医院"}]}},components:{picker:r.a,datePicker:l.a},mounted:function(){var t=this;Object(p.zyxxQuerydata4object)({dspToken:this.dspToken}).then(function(e){t.zbjb=e.data[0][0].zbjb}),Object(p.zyxxQuerydata4list)({dspToken:this.dspToken}).then(function(e){t.list=e.data})},methods:{showDatePicker:function(t){this.isDatePickerShow=!0},fetchDate:function(t){this.form.zyrq=t.originValue,this.isDatePickerShow=t.showDatePicker},hideDatePicker:function(t){this.isDatePickerShow=t.showDatePicker},loadDetail:function(t){var e=this;t&&Object(p.zyxxQuerydata)(t).then(function(t){var i=t.data[0];e.$router.push({name:"detail",query:{title:"住院登记详情",data:n()({"医院名称":i.yymc,"住院日期":i.zyrq,"入院诊断":i.ryzd,"是否需要支票":i.sfxyzp})}})})},showPicker:function(t){this.type=t,this.show=!0,"needzp"===t&&(this.pickerOptions.pickerColumns=this.needzpArr)},hidePicker:function(t){this.show=t.showPicker},setData:function(t){"needzp"===this.type&&(this.needzp=t.value.label,this.form.sfxyzp=t.value.value),this.show=t.showPicker},sign:function(){var t=this;Object(p.zyxxsavedata)(a()({},this.form,{dspToken:this.dspToken,zyrq:d()(this.form.zyrq).format("YYYY-MM-DD")})).then(function(e){1===t.form.sfxyzp?v.i.alert({message:"1"===t.zbjb?"请携带住院通知单（盖章），到二处办理，联系电话63098077。":"请携带住院通知单（盖章），到三处办理，联系电话83085422"}).then(function(){t.$toast("登记成功")}):t.$toast("登记成功")})}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hospitalsign"},[i("div",{staticClass:"top"},[i("div",{staticClass:"title"},[t._v("住院信息")]),t._v(" "),i("div",{staticClass:"topinfo"},[i("div",{staticClass:"post"},[t._v("医院名称")]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.yymc,expression:"form.yymc"}],attrs:{type:"text",placeholder:"请输入医院名称"},domProps:{value:t.form.yymc},on:{input:function(e){e.target.composing||t.$set(t.form,"yymc",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"topinfo",on:{click:function(e){return t.showDatePicker("zyrq")}}},[i("div",{staticClass:"post"},[t._v("住院日期")]),t._v(" "),i("div",{staticStyle:{"padding-left":"10px"},style:t.form.zyrq?"":"color:#ccc;"},[t._v("\n        "+t._s(t._f("dateFormat")(t.form.zyrq,"请选择住院日期"))+"\n      ")])]),t._v(" "),i("div",{staticClass:"topinfo"},[i("div",{staticClass:"post"},[t._v("入院诊断")]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ryzd,expression:"form.ryzd"}],attrs:{type:"text",placeholder:"请输入入院诊断"},domProps:{value:t.form.ryzd},on:{input:function(e){e.target.composing||t.$set(t.form,"ryzd",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"topinfo"},[i("div",{staticClass:"post special"},[t._v("是否需要支票（"+t._s("1"===t.zbjb?"2-10":"3-5")+"万）")]),t._v(" "),i("div",{staticClass:"arrow",on:{click:function(e){return t.showPicker("needzp")}}},[i("p",{style:{color:t.needzp?"#333333":"#cccccc"}},[t._v("\n          "+t._s(t.needzp?t.needzp:"请选择")+"\n        ")]),t._v(" "),i("van-icon",{attrs:{name:"arrow"}})],1)])]),t._v(" "),i("div",{staticClass:"sign-btn",on:{click:t.sign}},[t._v("登记")]),t._v(" "),i("div",{staticClass:"historylist"},[i("p",{staticClass:"historytitle"},[t._v("住院登记记录")]),t._v(" "),t._l(t.list,function(e,s){return i("div",{key:s,staticClass:"item",on:{click:function(i){return t.loadDetail(e.pk)}}},[i("div",[i("p",[t._v("入院日期："+t._s(e.date))]),t._v(" "),i("p",[t._v(t._s(e.hospital))])]),t._v(" "),i("div",[i("van-icon",{attrs:{name:"arrow"}})],1)])})],2),t._v(" "),i("date-picker",{attrs:{"date-type":"date","default-date":t.form.date,show:t.isDatePickerShow},on:{fetchData:t.fetchDate,cancel:t.hideDatePicker,hide:t.hideDatePicker}}),t._v(" "),i("picker",{attrs:{title:"请选择",columns:t.pickerOptions.pickerColumns,show:t.show},on:{fetchData:t.setData,cancel:t.hidePicker,hide:t.hidePicker}})],1)},staticRenderFns:[]};var f=i("VU/8")(h,u,!1,function(t){i("YiBL")},"data-v-8ce30236",null);e.default=f.exports},YiBL:function(t,e){}});
//# sourceMappingURL=12.246bd736479a006b8f0f.js.map