{"version":3,"sources":["webpack:///src/pages/NewspaperSubscribe.vue","webpack:///./src/pages/NewspaperSubscribe.vue?5e3b","webpack:///./src/pages/NewspaperSubscribe.vue"],"names":["NewspaperSubscribe","data","show","form","newspaper","address","postCode","mobile","pickerOptions","pickerColumns","label","value","list","isBm","dspToken","localStorage","components","picker","mounted","_this","this","gethistoryList","id","$route","query","Object","api","dyjhId","then","res","methods","_this2","showPicker","type","hidePicker","d","setData","submit","_this3","$toast","bzmc","zzxx","yb","sjh","$router","push","toDetail","v","_this4","zxqkId","_ref","o","name","title","stringify_default","参加的社会活动类型","hdlx","活动时间","hdsj","离京情况","ljqk","参加事由","cjsy","目的地","离京开始时间","离京结束时间","pages_NewspaperSubscribe","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","click","$event","style","color","_s","attrs","directives","rawName","expression","placeholder","domProps","input","target","composing","$set","disabled","columns","fetchData","cancel","hide","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.a568a306fe23b43caf89.js","sourcesContent":["<template>\n  <div class=\"newspaper-subcribe\">\n    <div class=\"main\">\n      <div class=\"row\">\n        <div class=\"field-name\">报纸名称</div>\n        <div class=\"field-value arrow\" @click=\"showPicker('newspaper')\">\n          <p :style=\"{ color: form.newspaper ? '#333333' : '#cccccc' }\">\n            {{ form.newspaper ? form.newspaper : \"请选择\" }}\n          </p>\n          <van-icon name=\"arrow\" />\n        </div>\n      </div>\n      <div class=\"row\">\n        <span class=\"field-name\">住址信息</span>\n        <span class=\"field-value\"\n          ><input\n            type=\"text\"\n            placeholder=\"请输入住址信息\"\n            v-model=\"form.address\"\n        /></span>\n      </div>\n      <div class=\"row\">\n        <span class=\"field-name\">邮编</span>\n        <span class=\"field-value\"\n          ><input type=\"text\" placeholder=\"请输入邮编\" v-model=\"form.postCode\"\n        /></span>\n      </div>\n      <div class=\"row\">\n        <span class=\"field-name\">联系方式</span>\n        <span class=\"field-value\"\n          ><input type=\"text\" placeholder=\"请输入手机号\" v-model=\"form.mobile\"\n        /></span>\n      </div>\n    </div>\n    <button class=\"send-btn\" :style=\"isBm !== 0 ? 'background: #ccc;' : ''\" :disabled=\"isBm === 1\" @click=\"submit\">{{isBm === 0 ? '提交' : '已订阅'}}</button>\n    <!-- <div class=\"historylist\">\n      <p class=\"historytitle\">历次申请记录</p>\n      <div class=\"item\" v-for=\"(item, i) in list\" :key=\"i\" @click=\"toDetail(item)\">\n        <div>\n          <p>申请日期：{{ item.createTime }}</p>\n          <p>{{ item.jzzw }}</p>\n        </div>\n        <div><van-icon name=\"arrow\" /></div>\n      </div>\n    </div> -->\n    <picker\n      title=\"请选择\"\n      :columns=\"pickerOptions.pickerColumns\"\n      @fetchData=\"setData\"\n      :show=\"show\"\n      @cancel=\"hidePicker\"\n      @hide=\"hidePicker\"\n    ></picker>\n  </div>\n</template>\n\n<script>\nimport picker from '../components/picker';\nimport {newspaperSubscribe, dyjhQuerydata4object, dyjhQuerydylslist, dyjhQuerydatadylsxq} from '@/assets/js/api';\nexport default {\n  data() {\n    return {\n      show: false,\n      form: {\n        newspaper: '',\n        address: '',\n        postCode: '',\n        mobile: ''\n      },\n      pickerOptions: {\n        pickerColumns: [\n          {\n            label: '中国老年报',\n            value: '中国老年报'\n          },\n          {\n            label: '医药养生保健报',\n            value: '医药养生保健报'\n          }\n        ]\n      },\n      list: [],\n      isBm: 0,\n      dspToken: localStorage.dspToken\n    };\n  },\n  components: {\n    picker\n  },\n  mounted() {\n    this.gethistoryList();\n    let id = this.$route.query.id;\n    dyjhQuerydata4object({\n      dyjhId: id,\n      dspToken: this.dspToken\n    }).then(res => {\n      this.isBm = res.data[0].isBm;\n    });\n  },\n  methods: {\n    gethistoryList() {\n      dyjhQuerydylslist({\n        dspToken: this.dspToken\n      }).then(res => {\n        this.list = res.data;\n      });\n    },\n    showPicker(type) {\n      this.type = type;\n      this.show = true;\n    },\n    hidePicker(d) {\n      this.show = d.showPicker;\n    },\n    setData(d) {\n      if (this.type === 'newspaper') {\n        this.form.newspaper = d.value.label;\n      }\n      this.show = d.showPicker;\n    },\n    submit() {\n      if (!this.form.newspaper) {\n        return this.$toast('请填写报纸名称');\n      }\n      if (!this.form.address) {\n        return this.$toast('请填写住址信息');\n      }\n      if (!this.form.postCode) {\n        return this.$toast('请填写邮编');\n      }\n      if (!this.form.mobile) {\n        return this.$toast('请填写手机号');\n      }\n\n      let id = this.$route.query.id;\n      newspaperSubscribe({\n        bzmc: this.form.newspaper,\n        zzxx: this.form.address,\n        yb: this.form.postCode,\n        sjh: this.form.mobile,\n        dyjhId: id,\n        dspToken: this.dspToken\n      }).then(data => {\n        this.$toast('报刊订阅成功！');\n        this.$router.push('/NewspaperList');\n        // this.gethistoryList();\n      });\n    },\n    toDetail(v) {\n      dyjhQuerydatadylsxq({\n        dspToken: this.dspToken,\n        zxqkId: v\n      }).then(({data}) => {\n        const o = data[0];\n        this.$router.push({\n          name: 'detail',\n          query: {\n            title: '报刊订阅报名历史详情',\n            data: JSON.stringify({\n              '参加的社会活动类型': o.hdlx,\n              '活动时间': o.hdsj,\n              '离京情况': o.ljqk,\n              '参加事由': o.cjsy,\n              '目的地': o.cjsy, // 字段待确定\n              '离京开始时间': o.cjsy,\n              '离京结束时间': o.cjsy\n            })\n          }\n        });\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.newspaper-subcribe {\n  min-height: 100%;\n  background: #f5f5f5;\n  box-sizing: border-box;\n  padding: 22px;\n  .main {\n    background-color: #ffffff;\n    box-shadow: 3px 4px 9px 1px rgba(1, 88, 155, 0.05);\n    border-radius: 8px;\n    .row {\n      display: flex;\n      height: 114px;\n      padding: 0 40px;\n      align-items: center;\n      justify-content: space-between;\n      &:not(:last-child) {\n        border-bottom: 1px solid #eee;\n      }\n      .field-name {\n        min-width: 140px;\n        font-size: 34px;\n        color: #888;\n      }\n      .field-value {\n        font-size: 34px;\n        letter-spacing: 0px;\n        color: #353535;\n        > input {\n          width: 100%;\n          height: 100%;\n          text-align: right;\n        }\n      }\n      .arrow {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        font-size: 34px;\n        color: #888;\n        text-align: right;\n      }\n    }\n  }\n  .send-btn {\n    width: 100%;\n    border: none;\n    height: 90px;\n    line-height: 90px;\n    margin-top: 29px;\n    text-align: center;\n    background-color: #3198ed;\n    box-shadow: 0px 5px 5px 0px rgba(89, 166, 250, 0.1);\n    border-radius: 45px;\n    font-size: 36px;\n    letter-spacing: 7px;\n    color: #fff;\n  }\n  .historylist {\n    .historytitle {\n      color: #888888;\n      font-size: 30px;\n      margin: 19px 0;\n    }\n    .item {\n      width: 704px;\n      // height: 140px;\n      background-color: #ffffff;\n      box-shadow: 3px 4px 9px 1px rgba(1, 88, 155, 0.05);\n      border-radius: 8px;\n      margin: 0 auto;\n      margin-top: 23px;\n      position: relative;\n      padding: 31px 30px 26px 33px;\n      box-sizing: border-box;\n      display: flex;\n      &::before {\n        content: \"\";\n        width: 5px;\n        // height: 140px;\n        background-color: #3198ed;\n        position: absolute;\n        left: 0;\n        top: 0;\n        bottom: 0;\n        border-top-left-radius: 50px;\n        border-bottom-left-radius: 50px;\n      }\n      > div:first-child {\n        flex: 1;\n        p:first-child {\n          color: #888888;\n          font-size: 30px;\n        }\n        p:last-child {\n          width: calc(100vw - 160px);\n          color: #353535;\n          font-size: 34px;\n          // white-space: nowrap;\n          // text-overflow: ellipsis;\n          // overflow: hidden;\n        }\n      }\n      > div:last-child {\n        width: 50px;\n        font-size: 34px;\n        color: #b2b2b2;\n        align-self: center;\n        text-align: right;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/NewspaperSubscribe.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"newspaper-subcribe\"},[_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"field-name\"},[_vm._v(\"报纸名称\")]),_vm._v(\" \"),_c('div',{staticClass:\"field-value arrow\",on:{\"click\":function($event){return _vm.showPicker('newspaper')}}},[_c('p',{style:({ color: _vm.form.newspaper ? '#333333' : '#cccccc' })},[_vm._v(\"\\n          \"+_vm._s(_vm.form.newspaper ? _vm.form.newspaper : \"请选择\")+\"\\n        \")]),_vm._v(\" \"),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('span',{staticClass:\"field-name\"},[_vm._v(\"住址信息\")]),_vm._v(\" \"),_c('span',{staticClass:\"field-value\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.address),expression:\"form.address\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入住址信息\"},domProps:{\"value\":(_vm.form.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"address\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('span',{staticClass:\"field-name\"},[_vm._v(\"邮编\")]),_vm._v(\" \"),_c('span',{staticClass:\"field-value\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.postCode),expression:\"form.postCode\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入邮编\"},domProps:{\"value\":(_vm.form.postCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"postCode\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('span',{staticClass:\"field-name\"},[_vm._v(\"联系方式\")]),_vm._v(\" \"),_c('span',{staticClass:\"field-value\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.mobile),expression:\"form.mobile\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\"},domProps:{\"value\":(_vm.form.mobile)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"mobile\", $event.target.value)}}})])])]),_vm._v(\" \"),_c('button',{staticClass:\"send-btn\",style:(_vm.isBm !== 0 ? 'background: #ccc;' : ''),attrs:{\"disabled\":_vm.isBm === 1},on:{\"click\":_vm.submit}},[_vm._v(_vm._s(_vm.isBm === 0 ? '提交' : '已订阅'))]),_vm._v(\" \"),_c('picker',{attrs:{\"title\":\"请选择\",\"columns\":_vm.pickerOptions.pickerColumns,\"show\":_vm.show},on:{\"fetchData\":_vm.setData,\"cancel\":_vm.hidePicker,\"hide\":_vm.hidePicker}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-578c4a3d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/NewspaperSubscribe.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-578c4a3d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NewspaperSubscribe.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewspaperSubscribe.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewspaperSubscribe.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-578c4a3d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NewspaperSubscribe.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-578c4a3d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/NewspaperSubscribe.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}