webpackJsonp([3],{"+Thz":function(t,e){},"55Bs":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("fZjL"),o=s.n(i),a=s("mvHQ"),n=s.n(a),r=s("uKX6"),c=s("PJh5"),l=s.n(c),d=s("gwNS"),v=s("Fd2+"),f={filters:{formatDate:function(t){return t&&l()(t).format("YYYY-MM-DD")||"请选择"}},components:{datePicker:r.a},data:function(){return{form:{shzzmc:"",ywzgdw:"",jzzw:"",jzsj:"",jzsl:""},isDatePickerShow:!1,list:[],fileList:[],dialogShow:!1,dspToken:localStorage.dspToken}},mounted:function(){var t=this;Object(d.ryjbxxQuerydata4object)({dspToken:this.dspToken}).then(function(e){var s=e.data[0];Number(s.age)>=70&&v.i.alert({message:"兼职的任职年龄界限为70周岁。"}).then(function(){t.$router.push({name:"SmartService",query:{}})})}),this.gethistoryList()},methods:{gethistoryList:function(){var t=this;Object(d.cjshjzsjquerydata4list)({dspToken:this.dspToken}).then(function(e){t.list=e.data})},todetail:function(t){var e=this;Object(d.cjshjzsjquerydata4object)({jzxxId:t,dspToken:this.dspToken}).then(function(t){var s=t.data[0];e.$router.push({name:"detail",query:{title:"社会兼职详情",data:n()({"兼职的社会组织名称":s.shzzmc,"业务主管单位":s.ywzgdw,"兼职任务":s.jzzw,"兼职时间":s.jzsj,"兼职数量":s.jzsl})}})})},submit:function(){for(var t=o()(this.form),e=this.form,s=0,i=t.length;s<i;s++)if(""===e[t[s]])return this.$toast("请完善信息"),!1;this.dialogShow=!0},save:function(){var t=this;Object(d.cjshjzsjaddCjshjzsj)({shzzmc:this.form.shzzmc,ywzgdw:this.form.ywzgdw,jzzw:this.form.jzzw,jzsj:l()(this.form.jzsj).format("YYYY-MM-DD"),jzsl:this.form.jzsl,dspToken:this.dspToken}).then(function(e){t.dialogShow=!1,t.$toast("提交成功"),t.gethistoryList()})},removeImage:function(t){this.fileList=this.fileList.filter(function(e){return t.content!==e.content})},afterRead:function(t){},showDatePicker:function(t){this.isDatePickerShow=!0},fetchDate:function(t){this.form.jzsj=t.originValue,this.isDatePickerShow=t.showDatePicker},hideDatePicker:function(t){this.isDatePickerShow=t.showDatePicker}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hospitalsign"},[s("div",{staticClass:"top"},[s("div",{staticClass:"title"},[t._v("参加社会兼职申请")]),t._v(" "),s("div",{staticClass:"topinfo"},[s("div",{staticClass:"post"},[t._v("兼职的社会组织名称")]),t._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.shzzmc,expression:"form.shzzmc"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.form.shzzmc},on:{input:function(e){e.target.composing||t.$set(t.form,"shzzmc",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"topinfo"},[s("div",{staticClass:"post"},[t._v("业务主管单位")]),t._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ywzgdw,expression:"form.ywzgdw"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.form.ywzgdw},on:{input:function(e){e.target.composing||t.$set(t.form,"ywzgdw",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"topinfo"},[s("div",{staticClass:"post"},[t._v("兼职任务")]),t._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.jzzw,expression:"form.jzzw"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.form.jzzw},on:{input:function(e){e.target.composing||t.$set(t.form,"jzzw",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"topinfo"},[s("div",{staticClass:"post"},[t._v("兼职时间")]),t._v(" "),s("div",{class:{"empty-style":!t.form.jzsj},on:{click:function(e){return t.showDatePicker("jzsj")}}},[t._v(t._s(t._f("formatDate")(t.form.jzsj)))])]),t._v(" "),s("div",{staticClass:"topinfo"},[s("div",{staticClass:"post"},[t._v("兼职数量")]),t._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.jzsl,expression:"form.jzsl"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.jzsl},on:{input:function(e){e.target.composing||t.$set(t.form,"jzsl",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"topinfo",staticStyle:{"border-bottom":"none"}},[s("div",{staticClass:"post"},[t._v("文件")]),t._v(" "),s("div",[s("van-uploader",{attrs:{"preview-image":!1,"after-read":t.afterRead},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}},[s("van-button",{attrs:{icon:"plus",type:"primary"}},[t._v("上传文件")])],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.fileList.length,expression:"fileList.length"}],staticClass:"topinfo noborder"},[t._l(t.fileList,function(e,i){return s("div",{key:i},[s("span",[t._v(t._s(e.file.name))]),s("van-icon",{attrs:{name:"cross"},on:{click:function(s){return t.removeImage(e)}}})],1)}),t._v(" "),s("div")],2)]),t._v(" "),s("div",{staticClass:"sign-btn",on:{click:t.submit}},[t._v("提交")]),t._v(" "),s("div",{staticClass:"historylist"},[s("p",{staticClass:"historytitle"},[t._v("历次申请记录")]),t._v(" "),t._l(t.list,function(e,i){return s("div",{key:i,staticClass:"item",on:{click:function(s){return t.todetail(e.jzxxId)}}},[s("div",[s("p",[t._v("申请日期："+t._s(e.createTime))]),t._v(" "),s("p",[t._v(t._s(e.jzzw))])]),t._v(" "),s("div",[s("van-icon",{attrs:{name:"arrow"}})],1)])})],2),t._v(" "),s("date-picker",{attrs:{"date-type":"date","default-date":t.form.jzsj,show:t.isDatePickerShow},on:{fetchData:t.fetchDate,cancel:t.hideDatePicker,hide:t.hideDatePicker}}),t._v(" "),s("van-dialog",{attrs:{title:"提示","show-cancel-button":""},on:{confirm:t.save,cancel:function(e){t.dialogShow=!1}},model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[t._v("\n    请您按照《全国人大机关退（离）休干部社会兼职管理办法》的规定准备好相关材料后报局办公室\n  ")])],1)},staticRenderFns:[]};var u=s("VU/8")(f,m,!1,function(t){s("+Thz"),s("be87")},"data-v-621b4aec",null);e.default=u.exports},be87:function(t,e){}});
//# sourceMappingURL=3.6bc9a6d15f526f91c628.js.map